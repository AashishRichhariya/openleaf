@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
}

@layer components {
  /* Base editor components */
  .editor-root {
    @apply min-h-screen w-full flex justify-center bg-background;
  }

  .editor-area {
    @apply w-full max-w-4xl flex-grow flex flex-col relative bg-green-900 px-8 py-12 cursor-text;
  }

  .editor-input {
    @apply flex-1 resize-none outline-none caret-foreground;
  }

  .editor-placeholder {
    @apply absolute top-12 left-8 text-gray-400 pointer-events-none select-none;
  }

  /* Node-specific styles */
  .editor-heading-h1 {
    @apply text-4xl font-bold mt-6 mb-4;
  }

  .editor-heading-h2 {
    @apply text-3xl font-bold mt-5 mb-3;
  }

  .editor-heading-h3 {
    @apply text-2xl font-bold mt-4 mb-2;
  }

  .editor-quote {
    @apply border-l-4 border-gray-300 pl-4 my-4 italic text-gray-300;
  }

  .editor-code {
    @apply bg-gray-100 p-2 rounded font-mono text-sm;
  }

  /* Base list styles */
   .editor-list-ul {
    @apply p-0 m-0 list-disc list-outside;
  }

  .editor-list-ol {
    @apply p-0 m-0 list-decimal list-outside;
  }

  /* List item styles */
  .editor-listitem {
    @apply mx-8;
  }

  /* Nested list item */
  .editor-nested-listitem {
    @apply list-none;
  }

  /* Different depth ordered lists styles */
  .editor-list-ol1 {
    @apply p-0 m-0 list-decimal list-outside;
  }

  .editor-list-ol2 {
    @apply p-0 m-0 list-[upper-roman] list-outside;
  }

  .editor-list-ol3 {
    @apply p-0 m-0 list-[lower-roman] list-outside;
  }

  .editor-list-ol4 {
    @apply p-0 m-0 list-[upper-alpha] list-outside;
  }

  .editor-list-ol5 {
    @apply p-0 m-0 list-[lower-alpha] list-outside;
  }

  /* Checkbox list styles */
  .editor-checklist {
    @apply p-0 m-0 list-none;
  }

  /* Base checkbox item styles */
  .editor-listitem-checked,
  .editor-listitem-unchecked {
    @apply relative mx-2 px-6 list-none outline-none;
  }

  /* Checked state */
  .editor-listitem-checked {
    @apply line-through;
  }

  /* Checkbox appearance */
  .editor-listitem-checked::before,
  .editor-listitem-unchecked::before {
    @apply content-[''] absolute w-4 h-4 top-0.5 left-0 cursor-pointer block bg-cover;
  }

  .editor-listitem-unchecked::before {
    @apply border border-gray-400 rounded;
  }

  .editor-listitem-checked::before {
    @apply border border-blue-500 rounded bg-blue-500 bg-no-repeat;
  }

  /* Checkmark */
  .editor-listitem-checked::after {
    @apply content-[''] cursor-pointer border-white border-solid absolute block top-1.5 w-[3px] left-[7px] right-[7px] h-1.5 rotate-45 border-0 border-r-2 border-b-2;
  }

  /* Hide original checkbox for nested items */
  .editor-nested-listitem::before,
  .editor-nested-listitem::after {
    @apply hidden;
  }

  /* Ensure nested checkboxes maintain proper positioning */
  .editor-nested-listitem .editor-listitem-checked,
  .editor-nested-listitem .editor-listitem-unchecked {
    @apply relative mx-2;
  }

  /* RTL support */
  .editor-listitem-checked[dir='rtl']::before,
  .editor-listitem-unchecked[dir='rtl']::before {
    @apply left-auto right-0;
  }

  /* Focus styles */
  .editor-listitem-checked:focus::before,
  .editor-listitem-unchecked:focus::before {
    @apply outline-none;
  }
  /* Indentation support */
  .editor-indent {
    --indent-base-value: 40px;
  }

  /* Typeahead Menu Components */
  .typeahead-popover {
    @apply fixed bg-background shadow-lg rounded-lg;
  }

  .typeahead-popover ul {
    @apply p-0 m-0 list-none rounded-lg max-h-64 overflow-y-scroll;
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .typeahead-popover ul::-webkit-scrollbar {
    @apply hidden;
  }

  .typeahead-popover ul li {
    @apply m-0 min-w-[180px] text-sm outline-none cursor-pointer rounded-lg;
  }

  .typeahead-popover ul li.selected {
    @apply bg-gray-500;
  }

  .typeahead-popover li {
    @apply mx-2 p-2 text-foreground cursor-pointer leading-4 text-sm flex items-center flex-row flex-shrink-0 bg-background rounded-lg border-0;
  }

  .typeahead-popover li.active {
    @apply flex w-5 h-5 bg-contain;
  }

  .typeahead-popover li:first-child {
    @apply rounded-t-lg;
  }

  .typeahead-popover li:last-child {
    @apply rounded-b-lg;
  }

  .typeahead-popover li:hover {
    @apply bg-gray-500;
  }

  .typeahead-popover li .text {
    @apply flex leading-5 flex-grow min-w-[150px];
  }

  .typeahead-popover li .icon {
    @apply flex w-5 h-5 select-none mr-2 leading-4 bg-contain bg-no-repeat bg-center;
  }

  /* Component Picker Specific */
  .component-picker-menu {
    @apply w-[200px];
  }

  .component-picker-menu .item {
    @apply items-center cursor-pointer flex flex-row p-2 mx-2 rounded;
  }

  .component-picker-menu .item.selected {
    @apply bg-gray-500;
  }

  .component-picker-menu .item:hover {
    @apply bg-gray-500;
  }

  .component-picker-menu .item .icon {
    @apply flex mr-2 w-5 h-5 select-none;
  }

  .component-picker-menu .item .text {
    @apply flex leading-5 flex-grow min-w-[150px];
  }
}
